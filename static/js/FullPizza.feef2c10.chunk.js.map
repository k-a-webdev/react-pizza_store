{"version":3,"file":"static/js/FullPizza.feef2c10.chunk.js","mappings":"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","sources":["webpack://pizza_store/./src/pages/FullPizza/Profile.module.scss?1697","pages/FullPizza/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"profile\":\"Profile_profile__hW-kX\",\"profile__info\":\"Profile_profile__info__ILXHW\",\"details\":\"Profile_details__WiZLD\"};","// Main imports\nimport { useEffect, useState, ReactElement } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport axios from \"axios\";\n\n// Redux Toolkit imports\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { RootState } from \"../../redux/store\";\nimport { addProduct } from \"../../redux/cart/slice\";\nimport { PizzaItem } from \"../../redux/pizzas/types\";\n\n// Styles\nimport styles from \"./Profile.module.scss\";\n\n// My components\nimport { ButtonHome } from \"../../components\";\n\n// Main block\nexport default function FullPizza(): ReactElement {\n  const [pizza, setPizza] = useState<PizzaItem>();\n  const [activeType, setActiveType] = useState(0);\n  const [activeSize, setActiveSize] = useState(0);\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const { t, i18n } = useTranslation();\n\n  const { id } = useParams();\n\n  const typeNames = t(\"pizza.typeNames\", { returnObjects: true }) as string[];\n\n  const { priceUSD } = useSelector((state: RootState) => state.cartReducer);\n  const cartPizza = useSelector((state: RootState) =>\n    state.cartReducer.products.find(\n      (el) =>\n        el.id === Number(id) && el.size === activeSize && el.type === activeType\n    )\n  );\n\n  const onClickAdd = () => {\n    if (pizza) {\n      const selectedPizza = {\n        id: Number(id),\n        title: pizza.title,\n        title_en: pizza.title_en,\n        price: pizza.price,\n        imageUrl: pizza.imageUrl,\n        type: activeType,\n        size: activeSize,\n        count: 0,\n      };\n\n      dispatch(addProduct(selectedPizza));\n    }\n  };\n\n  useEffect(() => {\n    axios\n      .get(`https://64e6234909e64530d17fa566.mockapi.io/items/?id=${id}`)\n      .then(({ data }) => {\n        setPizza(data[0]);\n\n        setActiveType(data[0].types[0]);\n        setActiveSize(data[0].sizes[0]);\n      })\n      .catch((error) => {\n        console.log(error);\n        alert(\"Error while receiving pizza\");\n\n        navigate(\"/\");\n      });\n  }, []);\n\n  if (!pizza) {\n    return <div className=\"container\">{t(\"loadPageText\")}</div>;\n  }\n\n  return (\n    <div className=\"container\">\n      <div className={styles.profile}>\n        <div className={styles.profile__img}>\n          <img src={pizza.imageUrl} alt=\"Pizza\" />\n        </div>\n        <div className={styles.profile__info}>\n          <h1>\n            {i18n.resolvedLanguage === \"en\" ? pizza.title_en : pizza.title}\n          </h1>\n          <div className={`pizza-block__selector ${styles.details}`}>\n            <ul>\n              {Object.keys(pizza).length > 0 &&\n                pizza.types.map((type) => {\n                  return (\n                    <li\n                      onClick={() => setActiveType(type)}\n                      className={activeType === type ? \"active\" : \"\"}\n                      key={type}\n                    >\n                      {typeNames[type]}\n                    </li>\n                  );\n                })}\n            </ul>\n            <ul>\n              {Object.keys(pizza).length > 0 &&\n                pizza.sizes.map((size) => {\n                  return (\n                    <li\n                      onClick={() => setActiveSize(size)}\n                      className={activeSize === size ? \"active\" : \"\"}\n                      key={size}\n                    >\n                      {size} {t(\"pizza.size\")}\n                    </li>\n                  );\n                })}\n            </ul>\n          </div>\n          <div className=\"pizza-block__bottom\">\n            <div className=\"pizza-block__price\">\n              {i18n.resolvedLanguage === \"en\"\n                ? `${Math.ceil(pizza.price / priceUSD)} $`\n                : `${pizza.price} â‚´`}\n            </div>\n            <button\n              className=\"button button--outline button--add\"\n              onClick={onClickAdd}\n            >\n              <svg\n                width=\"12\"\n                height=\"12\"\n                viewBox=\"0 0 12 12\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <path\n                  d=\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\"\n                  fill=\"white\"\n                />\n              </svg>\n              <span>{t(\"button.pizzaAdd\")}</span>\n              {cartPizza && <i>{cartPizza.count}</i>}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <ButtonHome />\n    </div>\n  );\n}\n"],"names":["FullPizza","pizza","setPizza","useState","activeType","setActiveType","activeSize","setActiveSize","dispatch","useDispatch","navigate","useNavigate","t","i18n","useTranslation","id","useParams","typeNames","returnObjects","priceUSD","useSelector","state","cartReducer","cartPizza","products","find","el","Number","size","type","useEffect","axios","get","concat","then","_ref","data","types","sizes","catch","error","console","log","alert","_jsxs","className","children","styles","profile","_jsx","profile__img","src","imageUrl","alt","profile__info","resolvedLanguage","title_en","title","details","Object","keys","length","map","onClick","Math","ceil","price","onClickAdd","selectedPizza","count","addProduct","width","height","viewBox","fill","xmlns","d","ButtonHome"],"sourceRoot":""}