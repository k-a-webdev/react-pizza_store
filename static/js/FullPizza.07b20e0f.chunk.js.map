{"version":3,"file":"static/js/FullPizza.07b20e0f.chunk.js","mappings":"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","sources":["webpack://pizza_store/./src/pages/FullPizza/Profile.module.scss?1697","pages/FullPizza/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"root\":\"Profile_root__J55s9\",\"profile\":\"Profile_profile__hW-kX\",\"profile__img\":\"Profile_profile__img__HVVNk\",\"profile__info\":\"Profile_profile__info__ILXHW\",\"details\":\"Profile_details__WiZLD\"};","// Main imports\nimport { useEffect, useState, ReactElement } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport axios from \"axios\";\n\n// Redux Toolkit imports\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { RootState } from \"../../redux/store\";\nimport { addProduct } from \"../../redux/cart/slice\";\nimport { PizzaItem } from \"../../redux/pizzas/types\";\n\n// Styles\nimport styles from \"./Profile.module.scss\";\n\n// My components\nimport { ButtonHome } from \"../../components\";\n\n// Main block\nexport default function FullPizza(): ReactElement {\n  const [pizza, setPizza] = useState<PizzaItem>();\n  const [activeType, setActiveType] = useState(0);\n  const [activeSize, setActiveSize] = useState(0);\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const { t, i18n } = useTranslation();\n\n  const { id } = useParams();\n\n  const typeNames = t(\"pizza.typeNames\", { returnObjects: true }) as string[];\n\n  const { priceUSD } = useSelector((state: RootState) => state.cartReducer);\n  const cartPizza = useSelector((state: RootState) =>\n    state.cartReducer.products.find(\n      (el) =>\n        el.id === Number(id) && el.size === activeSize && el.type === activeType\n    )\n  );\n\n  const onClickAdd = () => {\n    if (pizza) {\n      const selectedPizza = {\n        id: Number(id),\n        title: pizza.title,\n        title_en: pizza.title_en,\n        price: pizza.price,\n        imageUrl: pizza.imageUrl,\n        type: activeType,\n        size: activeSize,\n        count: 0,\n      };\n\n      dispatch(addProduct(selectedPizza));\n    }\n  };\n\n  useEffect(() => {\n    axios\n      .get(`https://64e6234909e64530d17fa566.mockapi.io/items/?id=${id}`)\n      .then(({ data }) => {\n        setPizza(data[0]);\n\n        setActiveType(data[0].types[0]);\n        setActiveSize(data[0].sizes[0]);\n      })\n      .catch((error) => {\n        console.log(error);\n        alert(\"Error while receiving pizza\");\n\n        navigate(\"/\");\n      });\n  }, []);\n\n  if (!pizza) {\n    return <div className=\"container\">{t(\"loadPageText\")}</div>;\n  }\n\n  return (\n    <div className=\"container\">\n      <div className={styles.root}>\n        <div className={styles.profile}>\n          <div className={styles.profile__img}>\n            <img src={pizza.imageUrl} alt=\"Pizza\" />\n          </div>\n          <div className={styles.profile__info}>\n            <h1>\n              {i18n.resolvedLanguage === \"en-US\" ? pizza.title_en : pizza.title}\n            </h1>\n            <div className={`pizza-block__selector ${styles.details}`}>\n              <ul>\n                {Object.keys(pizza).length > 0 &&\n                  pizza.types.map((type) => {\n                    return (\n                      <li\n                        onClick={() => setActiveType(type)}\n                        className={activeType === type ? \"active\" : \"\"}\n                        key={type}\n                      >\n                        {typeNames[type]}\n                      </li>\n                    );\n                  })}\n              </ul>\n              <ul>\n                {Object.keys(pizza).length > 0 &&\n                  pizza.sizes.map((size) => {\n                    return (\n                      <li\n                        onClick={() => setActiveSize(size)}\n                        className={activeSize === size ? \"active\" : \"\"}\n                        key={size}\n                      >\n                        {size} {t(\"pizza.size\")}\n                      </li>\n                    );\n                  })}\n              </ul>\n            </div>\n            <div className=\"pizza-block__bottom\">\n              <div className=\"pizza-block__price\">\n                {i18n.resolvedLanguage === \"en-US\"\n                  ? `${Math.ceil(pizza.price / priceUSD)} $`\n                  : `${pizza.price} â‚´`}\n              </div>\n              <button\n                className=\"button button--outline button--add\"\n                onClick={onClickAdd}\n              >\n                <svg\n                  width=\"12\"\n                  height=\"12\"\n                  viewBox=\"0 0 12 12\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <path\n                    d=\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\"\n                    fill=\"white\"\n                  />\n                </svg>\n                <span>{t(\"button.pizzaAdd\")}</span>\n                {cartPizza && <i>{cartPizza.count}</i>}\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <ButtonHome />\n      </div>\n    </div>\n  );\n}\n"],"names":["FullPizza","pizza","setPizza","useState","activeType","setActiveType","activeSize","setActiveSize","dispatch","useDispatch","navigate","useNavigate","t","i18n","useTranslation","id","useParams","typeNames","returnObjects","priceUSD","useSelector","state","cartReducer","cartPizza","products","find","el","Number","size","type","useEffect","axios","get","concat","then","_ref","data","types","sizes","catch","error","console","log","alert","_jsx","className","children","_jsxs","styles","root","profile","profile__img","src","imageUrl","alt","profile__info","resolvedLanguage","title_en","title","details","Object","keys","length","map","onClick","Math","ceil","price","onClickAdd","selectedPizza","count","addProduct","width","height","viewBox","fill","xmlns","d","ButtonHome"],"sourceRoot":""}